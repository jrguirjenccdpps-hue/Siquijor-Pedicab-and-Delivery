<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Siquijor Delivery and Pedicab ‚Äî Local rides & deliveries made simple</title>
<meta name="description" content="Siquijor Delivery and Pedicab ‚Äî Request rides, send deliveries, tip drivers, and give feedback. Service area: Siquijor & San Juan, Siquijor." />
<style>
  :root{
    --accent:#2e7d32; --accent-dark:#1f5f20; --muted:#556; --bg:#f4fbf7; --card:#fff;
    --glass: rgba(255,255,255,0.85);
    --radius:14px;
    --maxw:920px;
  }
  *{box-sizing:border-box}
  body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial; margin:0; background:linear-gradient(180deg,#eef9ef, #f7fbf8); color:#123; -webkit-font-smoothing:antialiased;}
  .stage{max-width:var(--maxw);margin:18px auto;padding:12px;}
  .card{background:var(--card);border-radius:var(--radius);box-shadow:0 10px 28px rgba(15,30,15,0.06);overflow:hidden;}
  .hero{padding:20px;display:flex;flex-direction:column;align-items:center;gap:8px;text-align:center;}
  .logo{width:72px;height:72px;border-radius:12px;background:linear-gradient(180deg,var(--accent),var(--accent-dark));display:flex;align-items:center;justify-content:center;color:#fff;font-weight:900;font-size:22px}
  h1{margin:0;font-size:2.6rem;color:var(--accent);text-align:center;}
  p.tag{margin:0;color:var(--muted);font-weight:600;font-size:1rem}
  .info-chips{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px; justify-content:center}
  .chip{background:#f1fff6;padding:6px 10px;border-radius:999px;font-weight:700;color:#236;font-size:0.85rem}
  .menu{display:grid;grid-template-columns:1fr 1fr;gap:12px;padding:18px}
  .menu-button{background:var(--glass);border-radius:12px;padding:16px;text-align:center;font-weight:800;cursor:pointer;border:1px solid rgba(0,0,0,0.03);box-shadow:0 6px 18px rgba(10,10,10,0.04)}
  .menu-button .emoji{font-size:20px;display:block;margin-bottom:8px}
  .menu-button.primary{background:linear-gradient(90deg,var(--accent),var(--accent-dark));color:#fff}
  .menu-button.tip{background:linear-gradient(90deg,#ff8a00,#ff5e00);color:#fff}
  .menu-button.feedback{background:#fff;color:#234;border:1px solid #eee}
  .panels{position:relative;height:calc(100vh - 220px);overflow:hidden}
  .panel{position:absolute;inset:0;background:var(--card);transform:translateX(100%);transition:transform 380ms cubic-bezier(.2,.9,.2,1);overflow:auto;padding:18px}
  .panel.active{transform:translateX(0%)}
  .panel.left{transform:translateX(-100%)}
  .panel.headerless{padding-top:8px}
  .panel .back{background:none;border:0;color:var(--muted);font-weight:700;cursor:pointer;margin-bottom:8px}
  .panel h2{margin:4px 0 8px 0;color:var(--accent)}
  label{display:block;font-weight:700;margin-top:12px}
  input[type="text"], input[type="tel"], input[type="number"], textarea, select, input[type="datetime-local"]{width:100%;padding:10px;margin-top:6px;border-radius:10px;border:1px solid #e6eef0;font-size:15px;}
  textarea{min-height:90px;resize:vertical}
  .row{display:flex;gap:8px}
  .col{flex:1}
  .btn{display:inline-block;padding:12px 14px;border-radius:10px;border:0;cursor:pointer;font-weight:800}
  .btn.primary{background:var(--accent);color:#fff}
  .btn.secondary{background:#f1f1f1;color:#222}
  .small{font-size:0.88rem;color:var(--muted);margin-top:8px}
  .farebox{background:#f0fff4;padding:12px;border-radius:10px;border-left:4px solid var(--accent);margin-top:12px;font-weight:800;color:#146032;text-align:center}
  .tip-grid{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
  .tip-grid button{flex:1}
  .msg{margin-top:12px;padding:10px;border-radius:8px}
  .success{background:#e8fbef;border-left:4px solid #2e7d32}
  .error{background:#fff0f0;border-left:4px solid #d32}
  footer{padding:12px;text-align:center;color:#6a8b72;font-size:0.9rem}
  @media (max-width:720px){.menu{grid-template-columns:1fr}.panels{height:calc(100vh - 360px)}}
</style>
</head>
<body>
<main class="stage">
  <div class="card">
    <div class="hero">
      <div class="logo">SP</div>
      <h1>Siquijor Delivery and Pedicab</h1>
      <p class="tag">Local rides and Deliveries Made Simple</p>
      <div class="info-chips">
        <div class="chip">Service hours: 9:00 AM ‚Äì 6:00 PM</div>
        <div class="chip">Response: 5‚Äì10 minutes</div>
        <div class="chip">Area: Siquijor & San Juan</div>
      </div>
    </div>

    <div class="menu">
      <div class="menu-button primary" id="openRideBtn"><span class="emoji">üöï</span>Request a Ride</div>
      <div class="menu-button primary" id="openDeliveryBtn"><span class="emoji">üì¶</span>Send a Delivery</div>
      <div class="menu-button tip" id="openTipBtn"><span class="emoji">üíù</span>Give a Tip</div>
      <div class="menu-button feedback" id="openFeedbackBtn"><span class="emoji">‚úâÔ∏è</span>Suggestions & Feedback</div>
    </div>

    <div class="panels" aria-live="polite">
      <!-- Ride Panel -->
      <section id="ridePanel" class="panel" aria-hidden="true">
        <button class="back" id="backFromRide">‚Üê Back to menu</button>
        <h2>Request a Ride</h2>
        <p class="small">Service area: Siquijor, Siquijor & San Juan, Siquijor only.</p>

        <form id="rideForm">
          <label>Customer Name</label>
          <input id="ride_name" type="text" required placeholder="Juan Dela Cruz">
          <label>Contact Number</label>
          <input id="ride_contact" type="tel" required placeholder="09XXXXXXXXX">
          <div class="row">
            <div class="col">
              <label>Municipality</label>
              <select id="ride_muni" required>
                <option value="">Select</option>
                <option value="Siquijor, Siquijor">Siquijor, Siquijor</option>
                <option value="San Juan, Siquijor">San Juan, Siquijor</option>
              </select>
            </div>
            <div class="col">
              <label>Passengers</label>
              <input id="ride_passengers" type="number" min="1" max="6" value="1">
            </div>
          </div>
          <label>Pickup Location</label>
          <input id="ride_pickup" type="text" required placeholder="e.g. Lazi Public Market">
          <label>Drop-off Location</label>
          <input id="ride_dropoff" type="text" required placeholder="e.g. Guiwanon Beach">
          <label>Note (optional)</label>
          <textarea id="ride_note" placeholder="Any special request"></textarea>
          <div class="farebox" id="fareBox">Estimated Fare: ‚Äî</div>
          <div style="margin-top:12px;display:flex;gap:10px">
            <button type="button" class="btn primary" id="rideSubmit">Send Ride Request</button>
            <button type="button" class="btn secondary" id="rideClear">Clear</button>
          </div>
          <div id="rideMsg" class="msg" aria-live="polite"></div>
        </form>
      </section>

      <!-- Delivery Panel -->
      <section id="deliveryPanel" class="panel" aria-hidden="true">
        <button class="back" id="backFromDelivery">‚Üê Back to menu</button>
        <h2>Send a Delivery</h2>
        <p class="small">We will contact sender & receiver to confirm pickup and delivery.</p>

        <form id="deliveryForm">
          <label>Sender Name</label>
          <input id="del_sender" type="text" required placeholder="Maria Santos">
          <label>Sender Contact Number</label>
          <input id="del_sender_contact" type="tel" required placeholder="09XXXXXXXXX">
          <label>Receiver Name</label>
          <input id="del_receiver" type="text" required placeholder="Pedro Reyes">
          <label>Receiver Contact Number</label>
          <input id="del_receiver_contact" type="tel" required placeholder="09XXXXXXXXX">
          <label>Pick up Municipality</label>
          <select id="del_pick_muni" required>
            <option value="">Select</option>
            <option value="Siquijor, Siquijor">Siquijor, Siquijor</option>
            <option value="San Juan, Siquijor">San Juan, Siquijor</option>
          </select>
          <label>Pick up Location (specific)</label>
          <input id="del_pick_loc" type="text" required placeholder="e.g. Barangay Hall">
          <label>Drop-off Municipality</label>
          <select id="del_drop_muni" required>
            <option value="">Select</option>
            <option value="Siquijor, Siquijor">Siquijor, Siquijor</option>
            <option value="San Juan, Siquijor">San Juan, Siquijor</option>
          </select>
          <label>Drop-off Location (specific)</label>
          <input id="del_drop_loc" type="text" required placeholder="e.g. Beach Resort">
          <label>Note (optional)</label>
          <textarea id="del_note" placeholder="Any special instructions"></textarea>
          <div style="margin-top:12px;display:flex;gap:10px">
            <button type="button" class="btn primary" id="delSubmit">Send Delivery Request</button>
            <button type="button" class="btn secondary" id="delClear">Clear</button>
          </div>
          <div id="delMsg" class="msg" aria-live="polite"></div>
        </form>
      </section>

      <!-- Tip Panel -->
      <section id="tipPanel" class="panel" aria-hidden="true">
        <button class="back" id="backFromTip">‚Üê Back to menu</button>
        <h2>Give a Tip</h2>
        <p class="small">Support our pedicab drivers ‚Äî thank you!</p>
        <div style="margin-top:10px">
          <h3>üì≤ GCash</h3>
          <p><strong>Number:</strong> <span id="gcashNum">09652367470</span><br><strong>Name:</strong> Joshua Guirjen</p>
          <div style="display:flex;gap:8px;margin-bottom:10px">
            <button class="btn primary" onclick="copyNumber('09652367470')">üìã Copy Number</button>
            <button class="btn secondary" onclick="openGCash()">Open GCash App</button>
          </div>

          <h3>üè¶ PalawanPay</h3>
          <p><strong>Number:</strong> <span id="palawanNum">09652367470</span></p>
          <div style="display:flex;gap:8px;margin-bottom:10px">
            <button class="btn primary" onclick="copyNumber('09652367470')">üìã Copy Number</button>
          </div>

          <h3>üí∞ Choose a Tip Amount</h3>
          <div class="tip-grid">
            <button class="btn primary" onclick="tipAmount('‚Ç±20')">‚Ç±20</button>
            <button class="btn primary" onclick="tipAmount('‚Ç±50')">‚Ç±50</button>
            <button class="btn primary" onclick="tipAmount('‚Ç±100')">‚Ç±100</button>
          </div>
          <div id="tipThanks" class="msg success" style="display:none">‚úÖ Thank you! Please send your tip using the details above.</div>
        </div>
      </section>

      <!-- Feedback Panel -->
      <section id="feedbackPanel" class="panel" aria-hidden="true">
        <button class="back" id="backFromFeedback">‚Üê Back to menu</button>
        <h2>Suggestions & Feedback</h2>
        <p class="small">Your feedback helps us improve. Name & contact optional.</p>
        <form id="feedbackForm">
          <label>Name (optional)</label>
          <input id="fb_name" type="text" placeholder="Your name">
          <label>Contact (optional)</label>
          <input id="fb_contact" type="text" placeholder="Phone or email">
          <label>Message</label>
          <textarea id="fb_message" required placeholder="Tell us how we can improve"></textarea>
          <label>Rating</label>
          <select id="fb_rating">
            <option value="">Select rating (optional)</option>
            <option value="5">5 ‚Äî Excellent</option>
            <option value="4">4 ‚Äî Good</option>
            <option value="3">3 ‚Äî Okay</option>
            <option value="2">2 ‚Äî Poor</option>
            <option value="1">1 ‚Äî Very poor</option>
          </select>
          <div style="margin-top:12px;display:flex;gap:10px">
            <button type="button" class="btn primary" id="fbSubmit">Send Feedback</button>
            <button type="button" class="btn secondary" id="fbClear">Clear</button>
          </div>
          <div id="fbMsg" class="msg" aria-live="polite"></div>
        </form>
      </section>
    </div>

    <footer>
      üîí Your information is used only for booking and will not be shared. For urgent bookings call your local number.
    </footer>
  </div>
</main>

<script>
/* CONFIG */
const WEBAPP = "https://script.google.com/macros/s/AKfycbz4lcV_Bs4_uJkfijwNVBuVXFojX6-NS4UjFivxtD6OkCat_6o5LrCzZklwhLHtu9Nj/exec";
const API_SECRET = "siquijor@2025"; 

/* PANEL NAVIGATION */
const panels=[document.getElementById('ridePanel'),document.getElementById('deliveryPanel'),document.getElementById('tipPanel'),document.getElementById('feedbackPanel')];
function hideAllPanels(){panels.forEach(p=>{p.classList.remove('active');p.setAttribute('aria-hidden','true');});}
function openPanel(panel){hideAllPanels();panel.classList.add('active');panel.setAttribute('aria-hidden','false');window.scrollTo(0,0);}
document.getElementById('openRideBtn').addEventListener('click',()=>openPanel(document.getElementById('ridePanel')));
document.getElementById('openDeliveryBtn').addEventListener('click',()=>openPanel(document.getElementById('deliveryPanel')));
document.getElementById('openTipBtn').addEventListener('click',()=>openPanel(document.getElementById('tipPanel')));
document.getElementById('openFeedbackBtn').addEventListener('click',()=>openPanel(document.getElementById('feedbackPanel')));
document.getElementById('backFromRide').addEventListener('click',hideAllPanels);
document.getElementById('backFromDelivery').addEventListener('click',hideAllPanels);
document.getElementById('backFromTip').addEventListener('click',hideAllPanels);
document.getElementById('backFromFeedback').addEventListener('click',hideAllPanels);

/* FARE CALC */
const fareBox=document.getElementById('fareBox');
document.getElementById('ride_muni').addEventListener('change', function(){
  let fare='‚Äî';
  if(this.value==='Siquijor, Siquijor') fare='‚Ç±150';
  if(this.value==='San Juan, Siquijor') fare='‚Ç±300';
  fareBox.innerText='Estimated Fare: '+fare;
});
document.getElementById('ride_muni').dispatchEvent(new Event('change'));

/* HELPER POST JSON */
async function postJSON(payload){
  payload.secretKey=API_SECRET;
  try{
    const resp=await fetch(WEBAPP,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});
    return await resp.json();
  }catch(e){return {status:'error',message:e.message}}
}

/* FORM SUBMISSIONS */
document.getElementById('rideSubmit').addEventListener('click',async()=>{
  const name=document.getElementById('ride_name').value;
  const contact=document.getElementById('ride_contact').value;
  const muni=document.getElementById('ride_muni').value;
  const pickup=document.getElementById('ride_pickup').value;
  const dropoff=document.getElementById('ride_dropoff').value;
  const passengers=document.getElementById('ride_passengers').value;
  const note=document.getElementById('ride_note').value;
  const payload={requestType:'ride',customerName:name,contactNumber:contact,municipality:muni,pickupLocation:pickup,dropoffLocation:dropoff,passengers,note};
  const res=await postJSON(payload);
  const msg=document.getElementById('rideMsg');msg.innerText=res.message;msg.className='msg '+(res.status==='success'?'success':'error');
});

document.getElementById('delSubmit').addEventListener('click',async()=>{
  const sender=document.getElementById('del_sender').value;
  const senderContact=document.getElementById('del_sender_contact').value;
  const receiver=document.getElementById('del_receiver').value;
  const receiverContact=document.getElementById('del_receiver_contact').value;
  const pickMuni=document.getElementById('del_pick_muni').value;
  const pickLoc=document.getElementById('del_pick_loc').value;
  const dropMuni=document.getElementById('del_drop_muni').value;
  const dropLoc=document.getElementById('del_drop_loc').value;
  const note=document.getElementById('del_note').value;
  const payload={requestType:'delivery',senderName:sender,senderContact:senderContact,receiverName:receiver,receiverContact:receiverContact,pickupMunicipality:pickMuni,pickupLocation:pickLoc,dropoffMunicipality:dropMuni,dropoffLocation:dropLoc,note};
  const res=await postJSON(payload);
  const msg=document.getElementById('delMsg');msg.innerText=res.message;msg.className='msg '+(res.status==='success'?'success':'error');
});

document.getElementById('fbSubmit').addEventListener('click',async()=>{
  const name=document.getElementById('fb_name').value;
  const contact=document.getElementById('fb_contact').value;
  const message=document.getElementById('fb_message').value;
  const rating=document.getElementById('fb_rating').value;
  const payload={requestType:'feedback',name,contact,message,rating};
  const res=await postJSON(payload);
  const msg=document.getElementById('fbMsg');msg.innerText=res.message;msg.className='msg '+(res.status==='success'?'success':'error');
});

/* CLEAR BUTTONS */
document.getElementById('rideClear').addEventListener('click',()=>document.getElementById('rideForm').reset());
document.getElementById('delClear').addEventListener('click',()=>document.getElementById('deliveryForm').reset());
document.getElementById('fbClear').addEventListener('click',()=>document.getElementById('feedbackForm').reset());

/* TIP FUNCTIONS */
function copyNumber(num){navigator.clipboard.writeText(num);alert('Copied: '+num);}
function openGCash(){window.open('https://www.gcash.com/', '_blank');}
function tipAmount(val){document.getElementById('tipThanks').style.display='block';}
</script>
</body>
</html>

